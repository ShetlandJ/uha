<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Songs</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      font-family: sans-serif;
      max-width: 800px;
      margin: 20px auto;
      padding: 0 15px;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    header h1 {
      margin: 0;
    }
    .track {
      margin-bottom: 20px;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
    }
    .track h3 {
      margin: 0 0 10px 0;
      font-size: 1rem;
    }
    audio {
      width: 100%;
    }
    .controls {
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .play-btn {
      background: #27ae60;
      font-size: 1.5rem;
      padding: 12px 24px;
    }
    button {
      padding: 10px 16px;
      cursor: pointer;
      border: none;
      border-radius: 4px;
      color: white;
      font-size: 1rem;
    }
    .fade-btn {
      background: #e67e22;
    }
    .reset-btn {
      background: #3498db;
    }
    .reset-all-btn {
      background: #e74c3c;
    }
  </style>
</head>
<body>
  <header>
    <h1>Songs</h1>
    <button class="reset-all-btn" onclick="resetAll()">Reset All</button>
  </header>

  <div class="track">
    <h3>Life is a Highway (Boosted)</h3>
    <audio controls src="songs/1 life is a highway boosted.mp3"></audio>
    <div class="controls">
      <button class="play-btn" onclick="togglePlay(this)">Play</button>
      <button class="fade-btn" onclick="fadeOut(this)">Fade Out</button>
      <button class="reset-btn" onclick="reset(this)">Reset</button>
    </div>
  </div>

  <div class="track">
    <h3>Heigh-Ho</h3>
    <audio controls src="songs/2 Heigh-Ho.mp3"></audio>
    <div class="controls">
      <button class="play-btn" onclick="togglePlay(this)">Play</button>
      <button class="fade-btn" onclick="fadeOut(this)">Fade Out</button>
      <button class="reset-btn" onclick="reset(this)">Reset</button>
    </div>
  </div>

  <div class="track">
    <h3>AC/DC - Highway to Hell</h3>
    <audio controls src="songs/3 AC_DC - Highway to Hell Audio.mp3"></audio>
    <div class="controls">
      <button class="play-btn" onclick="togglePlay(this)">Play</button>
      <button class="fade-btn" onclick="fadeOut(this)">Fade Out</button>
      <button class="reset-btn" onclick="reset(this)">Reset</button>
    </div>
  </div>

  <div class="track">
    <h3>Phone - Gibberish - Bonnie</h3>
    <audio controls src="songs/4 Phone - Gibberish - Bonnie.mp3"></audio>
    <div class="controls">
      <button class="play-btn" onclick="togglePlay(this)">Play</button>
      <button class="fade-btn" onclick="fadeOut(this)">Fade Out</button>
      <button class="reset-btn" onclick="reset(this)">Reset</button>
    </div>
  </div>

  <div class="track">
    <h3>Willie Nelson - On The Road Again</h3>
    <audio controls src="songs/5 Willie Nelson - On The Road Again Official Audio.mp3"></audio>
    <div class="controls">
      <button class="play-btn" onclick="togglePlay(this)">Play</button>
      <button class="fade-btn" onclick="fadeOut(this)">Fade Out</button>
      <button class="reset-btn" onclick="reset(this)">Reset</button>
    </div>
  </div>

  <div class="track">
    <h3>Danger: High Voltage (2025 Remaster)</h3>
    <audio controls src="songs/6 Danger_ High Voltage 2025 Remaster.mp3"></audio>
    <div class="controls">
      <button class="play-btn" onclick="togglePlay(this)">Play</button>
      <button class="fade-btn" onclick="fadeOut(this)">Fade Out</button>
      <button class="reset-btn" onclick="reset(this)">Reset</button>
    </div>
  </div>

  <script>
    let audioContext = null;
    const gainNodes = new Map();

    function getGainNode(audio) {
      if (!gainNodes.has(audio)) {
        if (!audioContext) {
          audioContext = new (window.AudioContext || window.webkitAudioContext)();
        }
        const source = audioContext.createMediaElementSource(audio);
        const gainNode = audioContext.createGain();
        source.connect(gainNode);
        gainNode.connect(audioContext.destination);
        gainNodes.set(audio, gainNode);
      }
      return gainNodes.get(audio);
    }

    function togglePlay(btn) {
      const audio = btn.closest('.track').querySelector('audio');
      getGainNode(audio);
      if (audioContext && audioContext.state === 'suspended') {
        audioContext.resume();
      }
      if (audio.paused) {
        audio.play();
        btn.textContent = 'Pause';
      } else {
        audio.pause();
        btn.textContent = 'Play';
      }
    }

    function fadeOut(btn) {
      const track = btn.closest('.track');
      const audio = track.querySelector('audio');
      const playBtn = track.querySelector('.play-btn');
      const gainNode = getGainNode(audio);
      let vol = gainNode.gain.value;
      const fade = setInterval(() => {
        if (vol > 0.05) {
          vol -= 0.05;
          gainNode.gain.value = vol;
        } else {
          clearInterval(fade);
          gainNode.gain.value = 0;
          setTimeout(() => {
            audio.pause();
            audio.currentTime = 0;
            gainNode.gain.value = 1;
            playBtn.textContent = 'Play';
          }, 200);
        }
      }, 100);
    }

    function reset(btn) {
      const track = btn.closest('.track');
      const audio = track.querySelector('audio');
      const playBtn = track.querySelector('.play-btn');
      const gainNode = gainNodes.get(audio);
      audio.pause();
      if (gainNode) gainNode.gain.value = 1;
      audio.currentTime = 0;
      playBtn.textContent = 'Play';
    }

    function resetAll() {
      document.querySelectorAll('.track').forEach(track => {
        const audio = track.querySelector('audio');
        const playBtn = track.querySelector('.play-btn');
        const gainNode = gainNodes.get(audio);
        audio.pause();
        if (gainNode) gainNode.gain.value = 1;
        audio.currentTime = 0;
        playBtn.textContent = 'Play';
      });
    }
  </script>
</body>
</html>
